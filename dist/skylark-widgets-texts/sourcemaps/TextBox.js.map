{"version":3,"sources":["TextBox.js"],"names":["define","Widget","texts","TextBox","inherit","_construct","parent","prototype","call","this","skin","getSkin","_elm","type","style","color","textColor","margin","outline","borderStyle","boxSizing","textIndent","borderRadius","setFont","fontFamily","fontWeight","fontStyle","undefined","setDisabled","value","disabled","setOnInput","onInput","timeout","timer","oninput","event","clearTimeout","setTimeout","setOnChange","onChange","onchange","setText","text","getText"],"mappings":";;;;;;;AAAAA,QACC,8BACA,WACC,SAASC,EAAOC,GACjB,aASA,IAAIC,EAAUF,EAAOG,SAEpBC,WAAa,SAAUC,GACtBL,EAAOM,UAAUF,WAAWG,KAAKC,KAAMH,EAAQ,SAE/C,IAAII,EAAOD,KAAKE,UAEhBF,KAAKG,KAAKC,KAAO,OAEjBJ,KAAKG,KAAKE,MAAMC,MAAQL,EAAKM,UAC7BP,KAAKG,KAAKE,MAAMG,OAAS,IACzBR,KAAKG,KAAKE,MAAMI,QAAU,OAC1BT,KAAKG,KAAKE,MAAMK,YAAc,OAC9BV,KAAKG,KAAKE,MAAMM,UAAY,aAC5BX,KAAKG,KAAKE,MAAMO,WAAa,MAC7BZ,KAAKG,KAAKE,MAAMQ,aAAe,OAkDhCC,QAAU,SAASC,EAAYC,EAAYC,GAC1CjB,KAAKG,KAAKE,MAAMU,WAAaA,OAEXG,IAAfF,IACFhB,KAAKG,KAAKE,MAAMW,WAAaA,QAGbE,IAAdD,IACFjB,KAAKG,KAAKE,MAAMY,UAAYA,IAU9BE,YAAc,SAASC,GACtBpB,KAAKG,KAAKkB,SAAWD,GAYtBE,WAAa,SAASC,EAASC,GAC9B,QAAeN,IAAZM,EAAuB,CACzB,IAAIC,EAAQ,KAGZzB,KAAKG,KAAKuB,QAAU,SAASC,GACf,OAAVF,IACFG,aAAaH,GACbA,EAAQ,MAGTA,EAAQI,WAAW,WAClBN,IACAE,EAAQ,MACND,SAGJxB,KAAKG,KAAKuB,QAAUH,GAUtBO,YAAc,SAASC,GACtB/B,KAAKG,KAAK6B,SAAWD,GAStBE,QAAU,SAASC,GAClBlC,KAAKG,KAAKiB,MAAQc,GASnBC,QAAU,WACT,OAAOnC,KAAKG,KAAKiB,SAInB,OAAO3B,EAAMC,QAAUA","file":"../TextBox.js","sourcesContent":["define([\r\n\t\"skylark-widgets-base/Widget\",\r\n\t\"./texts\"\t\r\n],function(Widget,texts){\r\n\t\"use strict\";\r\n\r\n\t/**\r\n\t * text input widget.\r\n\t * \r\n\t * @class TextBox\r\n\t * @extends {Component}\r\n\t * @param {Component} parent Parent widget.\r\n\t */\r\n\tvar TextBox = Widget.inherit({\r\n\r\n\t\t_construct : function (parent) {\r\n\t\t\tWidget.prototype._construct.call(this, parent, \"input\");\r\n\r\n\t\t\tvar skin = this.getSkin();\r\n\r\n\t\t\tthis._elm.type = \"text\";\r\n\t\t\t//this._elm.style.backgroundColor = Editor.theme.boxColor;\r\n\t\t\tthis._elm.style.color = skin.textColor;\r\n\t\t\tthis._elm.style.margin = \"0\";\r\n\t\t\tthis._elm.style.outline = \"none\";\r\n\t\t\tthis._elm.style.borderStyle = \"none\";\r\n\t\t\tthis._elm.style.boxSizing = \"border-box\";\r\n\t\t\tthis._elm.style.textIndent = \"4px\";\r\n\t\t\tthis._elm.style.borderRadius = \"4px\";\r\n\r\n\t\t\tvar self = this;\r\n\t\t\t\r\n\t\t\t/*\r\n\t\t\tthis._elm.oncontextmenu = function(event) {\r\n\t\t\t\tvar context = new ContextMenu(DocumentBody);\r\n\t\t\t\tcontext.size.set(130, 20);\r\n\t\t\t\tcontext.position.set(event.clientX, event.clientY);\r\n\t\t\t\tcontext.addOption(Locale.copy, function()\r\n\t\t\t\t{\r\n\t\t\t\t\tvar value = self.element.value;\r\n\t\t\t\t\tEditor.clipboard.set(value.slice(self.element.selectionStart, self.element.selectionEnd), \"text\");\r\n\t\t\t\t});\r\n\t\t\t\tcontext.addOption(Locale.cut, function()\r\n\t\t\t\t{\r\n\t\t\t\t\tvar value = self.element.value;\r\n\t\t\t\t\tEditor.clipboard.set(value.slice(self.element.selectionStart, self.element.selectionEnd), \"text\");\r\n\t\t\t\t\tself.element.value = value.slice(0, self.element.selectionStart) + value.slice(self.element.selectionEnd, value.length);\r\n\t\t\t\t});\r\n\t\t\t\tcontext.addOption(Locale.paste, function()\r\n\t\t\t\t{\r\n\t\t\t\t\tvar value = self.element.value;\r\n\t\t\t\t\tvar paste = Editor.clipboard.get(\"text\");\r\n\t\t\t\t\tif(paste !== undefined)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tself.element.value = value.slice(0, self.element.selectionStart) + paste + value.slice(self.element.selectionEnd, value.length);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\tcontext.addOption(Locale.selectAll, function()\r\n\t\t\t\t{\r\n\t\t\t\t\tconsole.log(self.element);\r\n\t\t\t\t\tself.element.select();\r\n\t\t\t\t});\r\n\t\t\t\tcontext.updateInterface();\r\n\t\t\t};\r\n\t\t\t*/\r\n\t\t},\r\n\r\n\r\n\t\t/**\r\n\t\t * Set font configuration to use for the text presented in this component.\r\n\t\t *\r\n\t\t * May also affect some types of children components. \r\n\t\t * \r\n\t\t * @method setFont\r\n\t\t * @param {string} fontFamily Font family.\r\n\t\t * @param {number} fontWeight Font weigth, sets how thick or thin characters in text should be displayed.\r\n\t\t * @param {string} fontStyle Font style, specifies the font style for a text.\r\n\t\t */\r\n\t\tsetFont : function(fontFamily, fontWeight, fontStyle) {\r\n\t\t\tthis._elm.style.fontFamily = fontFamily;\r\n\r\n\t\t\tif(fontWeight !== undefined) {\r\n\t\t\t\tthis._elm.style.fontWeight = fontWeight;\r\n\t\t\t}\r\n\r\n\t\t\tif(fontStyle !== undefined)\t{\r\n\t\t\t\tthis._elm.style.fontStyle = fontStyle;\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Set the disabled state of the element.\r\n\t\t *\r\n\t\t * @method setDisabled\r\n\t\t * @param {boolean} disabled\r\n\t\t */\r\n\t\tsetDisabled : function(value) {\r\n\t\t\tthis._elm.disabled = value;\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Set oninput callback called after every letter typed into the box.\r\n\t\t *\r\n\t\t * Should be used only for immediate input effect, or can be used with a timeout value to prevent high CPU usage.\r\n\t\t *\r\n\t\t * @method setOnInput\r\n\t\t * @param {Function} onInput Callback method called everytime the user types something.\r\n\t\t * @param {number} timeout Time (ms) after the user stopped typing to activate the callback.\r\n\t\t */\r\n\t\tsetOnInput : function(onInput, timeout) {\r\n\t\t\tif(timeout !== undefined) {\r\n\t\t\t\tvar timer = null;\r\n\t\t\t\tvar self = this;\r\n\r\n\t\t\t\tthis._elm.oninput = function(event) {\r\n\t\t\t\t\tif(timer !== null) {\r\n\t\t\t\t\t\tclearTimeout(timer);\r\n\t\t\t\t\t\ttimer = null;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\ttimer = setTimeout(function(){\r\n\t\t\t\t\t\tonInput();\r\n\t\t\t\t\t\ttimer = null;\r\n\t\t\t\t\t}, timeout)\r\n\t\t\t\t};\r\n\t\t\t} else \t{\r\n\t\t\t\tthis._elm.oninput = onInput;\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Set onchange callback, called after changes.\r\n\t\t *\r\n\t\t * @method setOnChange\r\n\t\t * @param {Function} onChange\r\n\t\t */\r\n\t\tsetOnChange : function(onChange) {\r\n\t\t\tthis._elm.onchange = onChange;\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Set value stored in the input element.\r\n\t\t *\r\n\t\t * @method setText\r\n\t\t * @param {Object} text\r\n\t\t */\r\n\t\tsetText : function(text) {\r\n\t\t\tthis._elm.value = text;\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Get text stored in the input element.\r\n\t\t *\r\n\t\t * @method getText\r\n\t\t * @return {string} Text stored in the input element.\r\n\t\t */\r\n\t\tgetText : function() {\r\n\t\t\treturn this._elm.value;\r\n\t\t}\r\n\t});\r\n\r\n\treturn texts.TextBox = TextBox;\r\n});"]}